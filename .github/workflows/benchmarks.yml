name: benchmark_dotnet

on:
  push:
  pull_request:
  workflow_dispatch:

env:
  DOTNET_SKIP_FIRST_TIME_EXPERIENCE: true
  DOTNET_CLI_TELEMETRY_OPTOUT: true

jobs:  

  benchmark_dotnet_windows:
    runs-on: windows-latest
    steps:

      - name: Checkout
        uses: actions/checkout@v2

      - name: Benchmark
        shell: pwsh
        run: |
          ./benchmark-windows.ps1

      - name: Upload test results
        uses: actions/upload-artifact@v2
        with:
          name: results_windows_dotnet
          path: results_windows_dotnet.txt
  